<div class="row">
    <%= render 'shared/sidebar' %>
    <div class="container col-md-10">
        <table id="world-data" class="table table-hover" %>
            <thead>
                <tr>
                    <th>Flags</th>
                    <th>Codes</th>
                    <th>Country</th>
                    <th>New Cases</th>
                    <th>New Deaths</th>
                    <th>New recovered</th>
                    <th>Active</th>
                    <th>Critical</th>
                    <th>Total Confirmed</th>
                    <th>Total Recovered</th>
                    <th>Total Deaths</th>
                    <th>Total Tests</th>
                    <th>Population</th>
                </tr>
            </thead>
            <tbody>
                <% @world_data.each do |data| %>
                <tr>
                    <td><%= image_tag(data['countryInfo']['flag'], height: '32', width: '32', alt: data['country'])%></td>
                    <td><%= data['countryInfo']['iso3'] %></td>
                    <td><%= data['country'] %></td>
                    <td><%= data['todayCases'] %></td>
                    <td><%= data['todayDeaths'] %></td>
                    <td><%= data['todayRecovered'] %></td>
                    <td><%= data['active'] %></td>
                    <td><%= data['critical'] %></td>
                    <td><%= data['cases'] %></td>
                    <td><%= data['recovered'] %></td>
                    <td><%= data['deaths'] %></td>
                    <td><%= data['tests'] %></td>
                    <td><%= data['population'] %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>

<script>
    $(document).ready(function() {
        $("#world-data").dataTable({
            select: true,
            responsive: true,
            scrollX: true,
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        });
    });
</script>